---
title: Internet Protocol
sidebar:
  order: 25
slug: data-communication-and-networking/ip
prev: true
next: true
---

TCP/IP protocols operate the internet. Freely available and developed independent of any specific computer hardware or operating system. Independent from specific physical network hardware. Uniquely address any other device in the entire
network.

IP defines how to address devices on a network. It assigns a unique IP address to each device, allowing them to communicate with each other.

## IP Address

There are 2 version of IP.
- IPv4
- IPv6

IPv4 uses 32 bits. Composed of 4 octets. Each octet is represented by a decimal number between 0 and 255. For example, an IP address might be written as <span class="font-mono">192.168.0.1</span>.

IPv6 uses 128 bits. Composed of 8 groups of 16 bits. Each group is represented by a hexadecimal number between 0 and FFFF. For example, an IP address might be written as <span class="font-mono">2001:0db8:85a3:0000:0000:8a2e:0370:7334</span>.

For this module, whenever IP is mentioned, it refers to IPv4.

## IANA

Short for Internet Assigned Numbers Authority. A department under ICANN, Internet Corporation for Assigned Names and Numbers. Responsible for assigning IP addresses and other network-related resources.

### Private IP Blocks

Reserved for private networks. Globally non-routable. Not unique. Only unique within a private network.

| Class   | CIDR Notation                                 | Network Address                            | Broadcast Address                              |
| ------- | --------------------------------------------- | ------------------------------------------ | ---------------------------------------------- |
| Class A | <span class="font-mono">10.0.0.0/8</span>     | <span class="font-mono">10.0.0.0</span>    | <span class="font-mono">10.255.255.255</span>  |
| Class B | <span class="font-mono">172.16.0.0/12</span>  | <span class="font-mono">172.16.0.0</span>  | <span class="font-mono">172.31.255.255</span>  |
| Class C | <span class="font-mono">192.168.0.0/16</span> | <span class="font-mono">192.168.0.0</span> | <span class="font-mono">192.168.255.255</span> |

An Private IP address is considered non-routable. Addresses within these classes are only unique within a given private network.

All addresses outside these classes are considered public.

## Subnet

Short for subnetworks. Devices within a subnet can communicate with each other directly without the need for a router.

Used to divide a network into smaller networks.

### Network Address

First address of the subnet. Can be assigned to a device, but not recommended as a best practice.

<span class="font-mono">192.168.12.0</span>

### Broadcast Address

Last address of the subnet. Cannot be assigned to a device. If assigned, the network communication will malfunction.

<span class="font-mono">192.168.12.255</span>

## Assigning an IP Address

### Static

Network admin hardcodes the IP address into the device's configuration.

In UNIX, `/etc/rc.config` is used to configure network settings.

### Dynamic

The device gets the IP address from a server using Dynamic Host Configuration Protocol. When connecting to an ISP, the device receives an IP address from the ISP's DHCP server.

### For ISP

IANA assigns IP addresses to Regional Internet Registries. RIRs manage a pool of IP addresses and assigns to ISPs in specific regions.

## Network Address Translation 

A technique used to map private IP addresses to public IP addresses. It allows multiple devices on a private network to share a single public IP address. NAT is commonly used in home networks and small businesses.

Mapping from private IP addresses to public IP addresses is handled by NAT servers. They maintain a table of outgoing connections and incoming connections.

IPv4 address space is not enough for universally unique IP addresses. There are more people in the world than there are IPv4 addresses. This problem is solved by using private IP addresses for all hosts under a network. They share one or few public IP addresses to access the outside world.

## Other protocols

### DHCP

Short for Dynamic Host Configuration Protocol. Used to automatically assign IP addresses and other network configuration parameters to devices on a network. DHCP operates at the network layer and is essential for managing IP addresses in large networks.

### ARP

Short for Address Resolution Protocol. Used to map an IP address to a physical address (MAC address). ARP operates at the data link layer and is essential for communication between devices on the same network segment.

A _broadcast frame_ is sent to all devices on the network segment to request the MAC address corresponding to a given IP address. The frame contains the source IP address, destination IP address, and the source MAC address. Relevant host responds with its MAC address.

### Routing protocols

Used to determine the best path for data packets to travel between different networks. Examples of routing protocols include:

- Border Gateway Protocol (BGP)   
  A standardized exterior gateway protocol used to exchange routing information between autonomous systems (large networks or collections of networks) on the internet. BGP helps ensure data can find its way across complex, interconnected networks by determining the most efficient routes.
- Open Shortest Path First (OSPF)
  An interior gateway protocol used within a single autonomous system. Uses a link-state routing algorithm to quickly adapt to changes in the network and find the shortest path for data packets.
- Routing Information Protocol (RIP)   
  One of the oldest routing protocols. Uses a distance-vector algorithm to determine the best route based on the number of hops between source and destination. Simple. Less efficient for large or complex networks.

### ICMP protocol

Short for Internet Control Message Protocol. Used by network devices, like routers, to send error messages and operational information. ICMP operates at the network layer and is primarily used for diagnostics and troubleshooting. For example, when a packet cannot reach its destination, ICMP can notify the sender of the issue.

Common uses of ICMP include:

- Echo Request and Echo Reply: Used by the `ping` command to test connectivity between devices.
- Destination Unreachable: Informs the sender that a packet could not be delivered.
- Time Exceeded: Indicates that a packet has been discarded because it took too long to reach its destination (often used in traceroute).

ICMP does not transport application data; instead, it helps manage and control the flow of information across the network.
